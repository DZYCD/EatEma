<!DOCTYPE html>
<html lang="zh">
<head>
    <title>é‡‘å…‰è„‰å†²æ•ˆæœæµ‹è¯•</title>
    <meta charset="utf-8" />
    <link href="./static/index.css?v=2.1" rel="stylesheet" type="text/css">
    <style>
        body {
            background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
            color: white;
            font-family: Arial, sans-serif;
            padding: 40px;
            min-height: 100vh;
            margin: 0;
        }
        .test-container {
            max-width: 800px;
            margin: 0 auto;
            text-align: center;
        }
        .control-panel {
            background: rgba(20, 15, 10, 0.85);
            border-radius: 15px;
            padding: 30px;
            margin: 30px 0;
            border: 2px solid var(--gold-dark);
        }
        .test-btn {
            background: var(--gold-dark);
            color: white;
            border: 2px solid var(--gold-light);
            padding: 12px 24px;
            margin: 8px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s ease;
            font-weight: bold;
        }
        .test-btn:hover {
            background: var(--gold-light);
            color: #000;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(212, 175, 55, 0.4);
        }
        .info-box {
            background: rgba(0,0,0,0.3);
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            border-left: 4px solid #d4af37;
            text-align: left;
        }
        .combo-counter {
            font-size: 2em;
            color: var(--gold-light);
            margin: 20px 0;
            text-shadow: 0 0 10px var(--gold-glow);
        }
        .milestone-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
            gap: 10px;
            margin: 20px 0;
        }
        .milestone {
            background: rgba(0,0,0,0.5);
            padding: 10px;
            border-radius: 6px;
            border: 1px solid var(--gold-dark);
        }
        .milestone.reached {
            background: rgba(212, 175, 55, 0.2);
            border-color: var(--gold-light);
        }
    </style>
</head>
<body>

<!-- é‡‘å…‰è„‰å†²æ•ˆæœ -->
<div id="golden-pulse" class="golden-pulse">
    <div class="pulse-wave pulse-wave-1"></div>
    <div class="pulse-wave pulse-wave-2"></div>
    <div class="pulse-wave pulse-wave-3"></div>
    <div class="pulse-text">50 COMBO!</div>
</div>

<div class="test-container">
    <h1>âœ¨ é‡‘å…‰è„‰å†²æ•ˆæœæµ‹è¯•</h1>
    
    <div class="combo-counter">
        å½“å‰åˆ†æ•°: <span id="score-display">0</span>
    </div>
    
    <div class="control-panel">
        <h2>ğŸ® æµ‹è¯•æ§åˆ¶</h2>
        <button class="test-btn" onclick="testPulse(50)">æµ‹è¯• 50 Combo</button>
        <button class="test-btn" onclick="testPulse(100)">æµ‹è¯• 100 Combo</button>
        <button class="test-btn" onclick="testPulse(150)">æµ‹è¯• 150 Combo</button>
        <button class="test-btn" onclick="testPulse(200)">æµ‹è¯• 200 Combo</button>
        <br>
        <button class="test-btn" onclick="simulateGame()">æ¨¡æ‹Ÿæ¸¸æˆè¿›ç¨‹</button>
        <button class="test-btn" onclick="resetTest()">é‡ç½®æµ‹è¯•</button>
    </div>

    <div class="control-panel">
        <h2>ğŸ† Comboé‡Œç¨‹ç¢‘</h2>
        <div class="milestone-list" id="milestone-list">
            <div class="milestone" data-milestone="50">50</div>
            <div class="milestone" data-milestone="100">100</div>
            <div class="milestone" data-milestone="150">150</div>
            <div class="milestone" data-milestone="200">200</div>
            <div class="milestone" data-milestone="250">250</div>
            <div class="milestone" data-milestone="300">300</div>
            <div class="milestone" data-milestone="350">350</div>
            <div class="milestone" data-milestone="400">400</div>
            <div class="milestone" data-milestone="450">450</div>
            <div class="milestone" data-milestone="500">500</div>
        </div>
    </div>

    <div class="info-box">
        <h3>âœ¨ æ•ˆæœç‰¹æ€§</h3>
        <ul>
            <li><strong>ä¸‰å±‚æ³¢æµª</strong> - ä¸åŒé€æ˜åº¦å’Œå»¶è¿Ÿçš„é‡‘å…‰æ³¢æµª</li>
            <li><strong>æ¸å˜é¢œè‰²</strong> - ä»é‡‘è‰²åˆ°äº®é»„è‰²çš„æ¸å˜æ•ˆæœ</li>
            <li><strong>åŠ¨æ€æ–‡å­—</strong> - æ˜¾ç¤ºå½“å‰comboæ•°é‡</li>
            <li><strong>é¢œè‰²å˜åŒ–</strong> - æ ¹æ®comboæ•°é‡æ”¹å˜é¢œè‰²ä¸»é¢˜</li>
            <li><strong>å“åº”å¼è®¾è®¡</strong> - é€‚é…ä¸åŒå±å¹•å°ºå¯¸</li>
        </ul>
    </div>

    <div class="info-box">
        <h3>ğŸ¨ é¢œè‰²ä¸»é¢˜</h3>
        <ul>
            <li><strong>50-99 Combo</strong> - é‡‘è‰²ä¸»é¢˜ (#FFD700)</li>
            <li><strong>100-149 Combo</strong> - æ©™è‰²ä¸»é¢˜ (#FF6B35)</li>
            <li><strong>150-199 Combo</strong> - çº¢è‰²ä¸»é¢˜ (#FF1744)</li>
            <li><strong>200+ Combo</strong> - ç²‰è‰²ä¸»é¢˜ (#E91E63)</li>
        </ul>
    </div>

    <div class="info-box">
        <h3>ğŸ¯ è§¦å‘æœºåˆ¶</h3>
        <p>åœ¨å®é™…æ¸¸æˆä¸­ï¼Œæ¯å½“ç©å®¶è¾¾åˆ°50çš„å€æ•°åˆ†æ•°æ—¶ï¼ˆ50, 100, 150, 200...ï¼‰ï¼Œå°±ä¼šåœ¨å±å¹•é¡¶éƒ¨è§¦å‘é‡‘å…‰è„‰å†²æ•ˆæœï¼ŒæŒç»­1.5ç§’ã€‚</p>
    </div>
</div>

<script>
let currentScore = 0;
let lastMilestone = 0;

// è§¦å‘é‡‘å…‰è„‰å†²æ•ˆæœ
function triggerGoldenPulse(comboCount) {
    const pulseElement = document.getElementById('golden-pulse');
    const pulseText = pulseElement.querySelector('.pulse-text');
    
    if (!pulseElement || !pulseText) return;
    
    // æ›´æ–°æ–‡å­—å†…å®¹
    pulseText.textContent = `${comboCount} COMBO!`;
    
    // æ ¹æ®comboæ•°é‡è®¾ç½®ä¸åŒçš„é¢œè‰²æ ·å¼
    pulseText.className = 'pulse-text';
    if (comboCount >= 200) {
        pulseText.classList.add('combo-200');
    } else if (comboCount >= 150) {
        pulseText.classList.add('combo-150');
    } else if (comboCount >= 100) {
        pulseText.classList.add('combo-100');
    } else {
        pulseText.classList.add('combo-50');
    }
    
    // é‡ç½®åŠ¨ç”»
    pulseElement.classList.remove('active');
    
    // å¼ºåˆ¶é‡æ’ï¼Œç¡®ä¿åŠ¨ç”»é‡æ–°å¼€å§‹
    pulseElement.offsetHeight;
    
    // æ¿€æ´»è„‰å†²æ•ˆæœ
    pulseElement.classList.add('active');
    
    // 1.5ç§’åè‡ªåŠ¨éšè—
    setTimeout(() => {
        pulseElement.classList.remove('active');
    }, 1500);
    
    // æ›´æ–°é‡Œç¨‹ç¢‘æ˜¾ç¤º
    updateMilestoneDisplay(comboCount);
    
    console.log(`ğŸ‰ è§¦å‘é‡‘å…‰è„‰å†²ï¼Combo: ${comboCount}`);
}

// æµ‹è¯•ç‰¹å®šcomboæ•°å€¼
function testPulse(combo) {
    currentScore = combo;
    document.getElementById('score-display').textContent = combo;
    triggerGoldenPulse(combo);
}

// æ¨¡æ‹Ÿæ¸¸æˆè¿›ç¨‹
function simulateGame() {
    currentScore = 0;
    lastMilestone = 0;
    document.getElementById('score-display').textContent = '0';
    
    // é‡ç½®é‡Œç¨‹ç¢‘æ˜¾ç¤º
    document.querySelectorAll('.milestone').forEach(m => {
        m.classList.remove('reached');
    });
    
    // æ¨¡æ‹Ÿå¿«é€Ÿå¢é•¿åˆ°500
    const interval = setInterval(() => {
        currentScore += 5;
        document.getElementById('score-display').textContent = currentScore;
        
        // æ£€æŸ¥é‡Œç¨‹ç¢‘
        const milestones = [50, 100, 150, 200, 250, 300, 350, 400, 450, 500];
        for (let milestone of milestones) {
            if (currentScore >= milestone && lastMilestone < milestone) {
                lastMilestone = milestone;
                triggerGoldenPulse(milestone);
                break;
            }
        }
        
        if (currentScore >= 500) {
            clearInterval(interval);
        }
    }, 200);
}

// é‡ç½®æµ‹è¯•
function resetTest() {
    currentScore = 0;
    lastMilestone = 0;
    document.getElementById('score-display').textContent = '0';
    
    // é‡ç½®é‡Œç¨‹ç¢‘æ˜¾ç¤º
    document.querySelectorAll('.milestone').forEach(m => {
        m.classList.remove('reached');
    });
    
    // éšè—è„‰å†²æ•ˆæœ
    document.getElementById('golden-pulse').classList.remove('active');
}

// æ›´æ–°é‡Œç¨‹ç¢‘æ˜¾ç¤º
function updateMilestoneDisplay(combo) {
    const milestone = document.querySelector(`[data-milestone="${combo}"]`);
    if (milestone) {
        milestone.classList.add('reached');
    }
}

// é¡µé¢åŠ è½½æ—¶çš„æ¼”ç¤º
window.addEventListener('load', () => {
    setTimeout(() => {
        alert('é¡µé¢åŠ è½½å®Œæˆï¼ç‚¹å‡»æŒ‰é’®æµ‹è¯•é‡‘å…‰è„‰å†²æ•ˆæœã€‚');
    }, 500);
});
</script>

</body>
</html>